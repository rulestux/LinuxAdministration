## 109.4 Client Side DNS
__weight 2__


### /etc/nsswitch.conf
- indica ao sistema onde buscar fontes de bases de dados;
- __colunas:__ tipo de banco de dados de nome | métodos para pesquisa de nomes;
- métodos usados para pesquisar um nome incluem as bases de dados:
	- 'dns' conteúdo de '/etc/resolv.conf';	
	- 'files' representa o conteúdo do arquivo '/etc/hosts';
- a coluna com '[ ]' fornece lógica condicional para a coluna à esquerda.

### /etc/resolv.conf
- __colunas:__ opção | IP; ou seja, nome da opção e valores da opção;
- 'nameserver' é a opção mais comum e especifica o endereço IPv4 ou IPv6 de um servidor DNS;
- 'search' especifica de 1 até 6 domínios de pesquisas curtas;
- 'domain' define um domínio local; sem ela, o padrão é tudo após o '.' do nome do host da máquina; também permite pesquisas curtas;
- 'domain' e 'search' são mutuamente exclusivos; se os dois estiverem presentes, é usada a última instância no arquivo;
- 'option' permite a inserção de opções, feito 'timeout:3'.

### /etc/hosts
- resolve nomes para IP e vice-versa, conforme descrito em 109.2;
- __colunas:__ IP | nome | alias.

### getent
- o utilitário retorna entradas de bancos de dados de serviços de nome a partir de qualquer fonte configurável pelo '/etc/nsswitch.conf', como com a sintaxe ```$ getent hosts```.

### host
- utilitário que permite procurar entradas DNS para um nome ou IP fornecido;
- retorna os conjuntos de registros A, AAAA e MX;
- a opção '-t' permite especificar um registro feito 'NS' nameserver, 'MX' mailserver ou 'SOA' service of authority.

### dig
- comando mais detalhado que 'host';
- consulta registros A;
- podem ser usadas opções como '+short' ou '+nocookie', além da '-t', feito 'host'.